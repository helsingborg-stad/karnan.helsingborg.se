var Karnan;Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.GoToVideo=function(t){function e(){t("#go-to-live").on("click",function(e){e.preventDefault(),t.scrollify.move(t(this).attr("href"))}),t("#live-section").length||t("#go-to-live").hide(0)}new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Navigation=function(t){function e(){t(".onepage-section").length&&(this.hightlightDirectionArrows(0,t(".onepage-section").length),this.bindDirectionArrow("soft"),this.bindElevator("soft")),t(".virtual-section").length&&(this.hightlightDirectionArrows(0,t(".virtual-section").length),this.bindDirectionArrow("instant"),this.bindElevator("instant")),t(document).bind("scrollifyStart",function(t,e,n,o){this.hightlightDirectionArrows(e,n.length),this.hightlightPagination(e,n)}.bind(this)),t(".scroll-evelator.active").length||t(".scroll-evelator.is-last").addClass("active")}e.prototype.hightlightDirectionArrows=function(e,n){0==e?t(".scroll-action.scroll-up").addClass("animation-disable").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style").removeClass("animation-disable")}):t(".scroll-action.scroll-up").removeClass("disabled animation-disable"),n==e+1?t(".scroll-action.scroll-down").addClass("animation-disable").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style").removeClass("animation-disable")}):t(".scroll-action.scroll-down").removeClass("disabled animation-disable")}.bind(this),e.prototype.hightlightPagination=function(e,n){t("#one-page-elevator li").removeClass("active"),t("#one-page-elevator li:eq("+e+")").addClass("active")},e.prototype.bindElevator=function(e){"soft"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.move(t(this).attr("href"))}),"instant"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.instantMove(t(this).attr("href"))})},e.prototype.bindDirectionArrow=function(e){"soft"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.next()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.previous()})),"instant"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.instantNext()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.instantPrevious()}))},new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Preloader=function(t){function e(){this.inCache()?t("body").addClass("page-loaded preload-quick"):t(window).on("load",function(){t("body").addClass("page-loaded").delay(1500).queue(function(e){t("#preloader").hide(0),e()}),this.markAsCached()}.bind(this))}e.prototype.inCache=function(){return 1==this.getCookie("karnanExistsInCache")},e.prototype.markAsCached=function(){this.addCookie("karnanExistsInCache",1,1)},e.prototype.addCookie=function(t,e,n){var o;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()}else o="";document.cookie=t+"="+e+o+"; path=/"},e.prototype.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null},new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.ScrollSnapping=function(t){function e(){t(".onepage-section").length&&this.StartSections(),t(".virtual-section").length&&this.VirtualSections(),this.sectionCount=t(".onepage-section").length-1,this.startState(),this.modalEvents(),t("body").hasClass(".home")&&t('a[href="#"]').on("click",function(t){t.preventDefault()})}e.prototype.modalEvents=function(){this.currentSection=t.scrollify.currentIndex(),t("html").on("openModal",function(){this.currentSection=t.scrollify.currentIndex(),t.scrollify.disable(),disableBodyScroll(!0,".modal:target")}),t("html").on("closeModal",function(){t.scrollify.enable(),disableBodyScroll(!1,".modal:target"),t.scrollify.update(),t.scrollify.instantMove(this.currentSection)})},e.prototype.startState=function(){"#r"==window.location.hash&&t.scrollify.instantMove(this.sectionCount),t.scrollify.current().addClass("active-section"),t("#one-page-content").addClass("active-section-"+t.scrollify.currentIndex()),t.scrollify.currentIndex()-1>0&&t.scrollify.current().prev().addClass("next-section"),t.scrollify.currentIndex()+1<=this.sectionCount&&t.scrollify.current().next().addClass("prev-section")},e.prototype.updateWrapper=function(e,n){t("#one-page-content").removeClass(function(t,e){return(e.match(/(^|\s)active-section-\S+/g)||[]).join(" ")}),t("#one-page-content").addClass("active-section-"+e)},e.prototype.updateBody=function(e,n){t("body").removeClass(function(t,e){return(e.match(/(^|\s)active-item-\S+/g)||[]).join(" ")}),t("body").addClass("active-item-"+e)},e.prototype.updateActive=function(t,e){e[t+1]&&e[t+1].hasClass("active-section")?e[t+1].removeClass("active-section"):e[t-1]&&e[t-1].hasClass("active-section")&&e[t-1].removeClass("active-section"),e[t].addClass("active-section")},e.prototype.updateNext=function(e,n){t(".next-section")&&t(".next-section").removeClass("next-section"),n[e-1]&&n[e-1].addClass("next-section")},e.prototype.updatePrev=function(e,n){t(".prev-section")&&t(".prev-section").removeClass("prev-section"),n[e+1]&&n[e+1].addClass("prev-section")},e.prototype.StartSections=function(){var e=800;t.scrollify({setHeights:!0,section:".onepage-section",sectionName:"section-name",scrollSpeed:e,easing:"easeOutExpo",standardScrollElements:".modal-karnan",before:function(n,o){this.updateActive(n,o),this.updateNext(n,o),this.updatePrev(n,o),this.updateWrapper(n,o),this.updateBody(n,o),t(document).trigger("scrollifyStart",[n,o,e,"onepage"])}.bind(this),after:function(n,o){t(document).trigger("scrollifyStop",[n,o,e,"onepage"])}.bind(this)})},e.prototype.VirtualSections=function(){var e=800;t.scrollify({section:".virtual-section",sectionName:"section-name",scrollSpeed:e,before:function(n,o){t(".container","section").not(":eq("+n+")").addClass("fade-out"),t(".container","section:eq("+n+")").removeClass("fade-out").addClass("fade-in"),t(document).trigger("scrollifyStart",[n,o,e,"virtual"])}.bind(this),after:function(n,o){setTimeout(function(){t(".container","section:eq("+n+")").removeClass("fade-in")},800),t(document).trigger("scrollifyStop",[n,o,e,"virtual"])}.bind(this)})}.bind(this),new e}(jQuery);