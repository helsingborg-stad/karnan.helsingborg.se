!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return e(n,t,t.document)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),t,t.document):e(jQuery,t,t.document)}("undefined"!=typeof window?window:this,function(t,e,n,o){"use strict";function i(n,o,i,s){if(v===n&&(i=!1),x===!0)return!0;if(p[n]){if(L=!1,i&&H.before(n,d),y=1,j=u[n],_===!1&&v>n&&s===!1&&g[n]&&(y=parseInt(d[n].outerHeight()/S.height()),j=parseInt(u[n])+(d[n].outerHeight()-S.height())),H.updateHash&&H.sectionName&&(_!==!0||0!==n))if(history.pushState)try{history.replaceState(null,null,p[n])}catch(r){e.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else e.location.hash=p[n];if(_&&(H.afterRender(),_=!1),v=n,o)t(H.target).stop().scrollTop(j),i&&H.after(n,d);else{if(O=!0,t().velocity?t(H.target).stop().velocity("scroll",{duration:H.scrollSpeed,easing:H.easing,offset:j,mobileHA:!1}):t(H.target).stop().animate({scrollTop:j},H.scrollSpeed,H.easing),e.location.hash.length&&H.sectionName&&e.console)try{t(e.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(r){}t(H.target).promise().done(function(){O=!1,_=!1,i&&H.after(n,d)})}}}function s(t){function e(e){for(var n=0,o=t.slice(Math.max(t.length-e,1)),i=0;i<o.length;i++)n+=o[i];return Math.ceil(n/e)}var n=e(10),o=e(70);return n>=o}function r(t,e){for(var n=p.length;n>=0;n--)"string"==typeof t?p[n]===t&&(m=n,i(n,e,!0,!0)):n===t&&(m=n,i(n,e,!0,!0))}var a,l,c,h,f,u=[],p=[],d=[],g=[],m=0,v=0,y=1,b=!1,S=t(e),w=S.scrollTop(),L=!1,O=!1,T=!1,x=!1,k=[],E=(new Date).getTime(),_=!0,P=!1,j=0,z="onwheel"in n?"wheel":n.onmousewheel!==o?"mousewheel":"DOMMouseScroll",H={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},I=function(o){function r(e){t().velocity?t(H.target).stop().velocity("scroll",{duration:H.scrollSpeed,easing:H.easing,offset:e,mobileHA:!1}):t(H.target).stop().animate({scrollTop:e},H.scrollSpeed,H.easing)}function v(e){e&&(w=S.scrollTop());var n=H.section;g=[],H.interstitialSection.length&&(n+=","+H.interstitialSection),H.scrollbars===!1&&(H.overflowScroll=!1),t(n).each(function(e){var n=t(this);H.setHeights?n.is(H.interstitialSection)?g[e]=!1:n.css("height","auto").outerHeight()<S.height()||"hidden"===n.css("overflow")?(n.css({height:S.height()}),g[e]=!1):(n.css({height:n.height()}),H.overflowScroll?g[e]=!0:g[e]=!1):n.outerHeight()<S.height()||H.overflowScroll===!1?g[e]=!1:g[e]=!0}),e&&S.scrollTop(w)}function _(n,o){var s=H.section;H.interstitialSection.length&&(s+=","+H.interstitialSection),u=[],p=[],d=[],t(s).each(function(n){var o=t(this);n>0?u[n]=parseInt(o.offset().top)+H.offset:u[n]=parseInt(o.offset().top),H.sectionName&&o.data(H.sectionName)?p[n]="#"+o.data(H.sectionName).toString().replace(/ /g,"-"):o.is(H.interstitialSection)===!1?p[n]="#"+(n+1):(p[n]="#",n===t(s).length-1&&n>1&&(u[n]=u[n-1]+(parseInt(t(t(s)[n-1]).outerHeight())-parseInt(t(e).height()))+parseInt(o.outerHeight()))),d[n]=o;try{t(p[n]).length&&e.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(i){}e.location.hash===p[n]&&(m=n,b=!0)}),!0===n&&i(m,!1,!1,!1)}function j(){return!g[m]||(w=S.scrollTop(),!(w>parseInt(u[m])))}function I(){return!g[m]||(w=S.scrollTop(),!(w<parseInt(u[m])+(d[m].outerHeight()-S.height())-28))}P=!0,t.easing.easeOutExpo=function(t,e,n,o,i){return e==i?n+o:o*(-Math.pow(2,-10*e/i)+1)+n},c={handleMousedown:function(){return x===!0||(L=!1,void(T=!1))},handleMouseup:function(){return x===!0||(L=!0,void(T&&c.calculateNearest(!1,!0)))},handleScroll:function(){return x===!0||(a&&clearTimeout(a),void(a=setTimeout(function(){return T=!0,L!==!1&&(L=!1,void c.calculateNearest(!1,!0))},200)))},calculateNearest:function(t,e){w=S.scrollTop();for(var n,o=1,s=u.length,r=0,a=Math.abs(u[0]-w);o<s;o++)n=Math.abs(u[o]-w),n<a&&(a=n,r=o);(I()&&r>m||j())&&(m=r,i(r,t,e,!1))},wheelHandler:function(n){if(x===!0)return!0;if(H.standardScrollElements&&(t(n.target).is(H.standardScrollElements)||t(n.target).closest(H.standardScrollElements).length))return!0;g[m]||n.preventDefault();var o=(new Date).getTime();n=n||e.event;var r=n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail,a=Math.max(-1,Math.min(1,r));if(k.length>149&&k.shift(),k.push(Math.abs(r)),o-E>200&&(k=[]),E=o,O)return!1;if(a<0){if(m<u.length-1&&I()){if(!s(k))return!1;n.preventDefault(),m++,O=!0,i(m,!1,!0,!1)}}else if(a>0&&m>0&&j()){if(!s(k))return!1;n.preventDefault(),m--,O=!0,i(m,!1,!0,!1)}},keyHandler:function(t){return x===!0||n.activeElement.readOnly===!1||O!==!0&&void(38==t.keyCode||33==t.keyCode?m>0&&j()&&(t.preventDefault(),m--,i(m,!1,!0,!1)):40!=t.keyCode&&34!=t.keyCode||m<u.length-1&&I()&&(t.preventDefault(),m++,i(m,!1,!0,!1)))},init:function(){H.scrollbars?(S.on("mousedown",c.handleMousedown),S.on("mouseup",c.handleMouseup),S.on("scroll",c.handleScroll)):t("body").css({overflow:"hidden"}),S.on(z,c.wheelHandler),S.on("keydown",c.keyHandler)}},h={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(x===!0)return!0;if(H.standardScrollElements&&(t(e.target).is(H.standardScrollElements)||t(e.target).closest(H.standardScrollElements).length))return!0;var n;if("undefined"!=typeof e&&"undefined"!=typeof e.touches)switch(n=e.touches[0],e.type){case"touchstart":h.touches.touchstart.y=n.pageY,h.touches.touchmove.y=-1,h.touches.touchstart.x=n.pageX,h.touches.touchmove.x=-1,h.options.timeStamp=(new Date).getTime(),h.touches.touchend=!1;case"touchmove":h.touches.touchmove.y=n.pageY,h.touches.touchmove.x=n.pageX,h.touches.touchstart.y!==h.touches.touchmove.y&&Math.abs(h.touches.touchstart.y-h.touches.touchmove.y)>Math.abs(h.touches.touchstart.x-h.touches.touchmove.x)&&(e.preventDefault(),h.touches.direction="y",h.options.timeStamp+h.options.timeGap<(new Date).getTime()&&0==h.touches.touchend&&(h.touches.touchend=!0,h.touches.touchstart.y>-1&&Math.abs(h.touches.touchmove.y-h.touches.touchstart.y)>h.options.distance&&(h.touches.touchstart.y<h.touches.touchmove.y?h.up():h.down())));break;case"touchend":h.touches[e.type]===!1&&(h.touches[e.type]=!0,h.touches.touchstart.y>-1&&h.touches.touchmove.y>-1&&"y"===h.touches.direction&&(Math.abs(h.touches.touchmove.y-h.touches.touchstart.y)>h.options.distance&&(h.touches.touchstart.y<h.touches.touchmove.y?h.up():h.down()),h.touches.touchstart.y=-1,h.touches.touchstart.x=-1,h.touches.direction="undetermined"))}},down:function(){m<u.length&&(I()&&m<u.length-1?(m++,i(m,!1,!0,!1)):Math.floor(d[m].height()/S.height())>y?(r(parseInt(u[m])+S.height()*y),y+=1):r(parseInt(u[m])+(d[m].outerHeight()-S.height())))},up:function(){m>=0&&(j()&&m>0?(m--,i(m,!1,!0,!1)):y>2?(y-=1,r(parseInt(u[m])+S.height()*y)):(y=1,r(parseInt(u[m]))))},init:function(){n.addEventListener&&H.touchScroll&&(n.addEventListener("touchstart",h.touchHandler,!1),n.addEventListener("touchmove",h.touchHandler,!1),n.addEventListener("touchend",h.touchHandler,!1))}},f={refresh:function(t,e){clearTimeout(l),l=setTimeout(function(){v(!0),_(e,!1),t&&H.afterResize()},400)},handleUpdate:function(){f.refresh(!1,!1)},handleResize:function(){f.refresh(!0,!1)},handleOrientation:function(){f.refresh(!0,!0)}},H=t.extend(H,o),v(!1),_(!1,!0),!0===b?i(m,!1,!0,!0):setTimeout(function(){c.calculateNearest(!0,!1)},200),u.length&&(c.init(),h.init(),S.on("resize",f.handleResize),n.addEventListener&&e.addEventListener("orientationchange",f.handleOrientation,!1))};return I.move=function(e){return e!==o&&(e.originalEvent&&(e=t(this).attr("href")),void r(e,!1))},I.instantMove=function(t){return t!==o&&void r(t,!0)},I.next=function(){m<p.length&&(m+=1,i(m,!1,!0,!0))},I.previous=function(){m>0&&(m-=1,i(m,!1,!0,!0))},I.instantNext=function(){m<p.length&&(m+=1,i(m,!0,!0,!0))},I.instantPrevious=function(){m>0&&(m-=1,i(m,!0,!0,!0))},I.destroy=function(){return!!P&&(H.setHeights&&t(H.section).each(function(){t(this).css("height","auto")}),S.off("resize",f.handleResize),H.scrollbars&&(S.off("mousedown",c.handleMousedown),S.off("mouseup",c.handleMouseup),S.off("scroll",c.handleScroll)),S.off(z,c.wheelHandler),S.off("keydown",c.keyHandler),n.addEventListener&&H.touchScroll&&(n.removeEventListener("touchstart",h.touchHandler,!1),n.removeEventListener("touchmove",h.touchHandler,!1),n.removeEventListener("touchend",h.touchHandler,!1)),u=[],p=[],d=[],void(g=[]))},I.update=function(){return!!P&&void f.handleUpdate()},I.current=function(){return d[m]},I.currentIndex=function(){return m},I.disable=function(){x=!0},I.enable=function(){x=!1,P&&c.calculateNearest(!1,!1)},I.isDisabled=function(){return x},I.setOptions=function(n){return!!P&&void("object"==typeof n?(H=t.extend(H,n),f.handleUpdate()):e.console&&console.warn("Scrollify warning: setOptions expects an object."))},t.scrollify=I,I}),function(t,e,n,o){function i(e,n){this.element=e,this.options=t.extend({},r,n),this._defaults=r,this._name=s,this.init()}var s="stellar",r={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return parseInt(t.css("left"),10)*-1},getTop:function(t){return parseInt(t.css("top"),10)*-1}},margin:{getLeft:function(t){return parseInt(t.css("margin-left"),10)*-1},getTop:function(t){return parseInt(t.css("margin-top"),10)*-1}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[h];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[4],10)*-1:0},getTop:function(t){var e=getComputedStyle(t[0])[h];return"none"!==e?parseInt(e.match(/(-?[0-9]+)/g)[5],10)*-1:0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,n,o,i){t[0].style[h]="translate3d("+(e-n)+"px, "+(o-i)+"px, 0)"}}},c=function(){var e,n=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o=t("script")[0].style,i="";for(e in o)if(n.test(e)){i=e.match(n)[0];break}return"WebkitOpacity"in o&&(i="Webkit"),"KhtmlOpacity"in o&&(i="Khtml"),function(t){return i+(i.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}(),h=c("transform"),f=t("<div />",{style:"background:#fff"}).css("background-position-x")!==o,u=f?function(t,e,n){t.css({"background-position-x":e,"background-position-y":n})}:function(t,e,n){t.css("background-position",e+" "+n)},p=f?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},d=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};i.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===n.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==o?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,n=a[e.options.scrollProperty],o=l[e.options.positionProperty],i=n.setLeft,s=n.setTop;this._setScrollLeft="function"==typeof i?function(t){i(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof s?function(t){s(e.$scrollElement,t)}:t.noop,this._setPosition=o.setPosition||function(t,n,i,s,r){e.options.horizontalScrolling&&o.setLeft(t,n,i),e.options.verticalScrolling&&o.setTop(t,s,r)}},_handleWindowLoadAndResize:function(){var n=this,o=t(e);n.options.responsive&&o.bind("load."+this.name,function(){n.refresh()}),o.bind("resize."+this.name,function(){n._detectViewport(),n.options.responsive&&n.refresh()})},refresh:function(n){var o=this,i=o._getScrollLeft(),s=o._getScrollTop();n&&n.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),n&&n.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var t=o._getScrollLeft(),e=o._getScrollTop();o._setScrollLeft(t+1),o._setScrollTop(e+1),o._setScrollLeft(t),o._setScrollTop(e)}),this._setScrollLeft(i),this._setScrollTop(s)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==o;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this;this._getScrollLeft(),this._getScrollTop();if(this.particles!==o)for(var n=this.particles.length-1;n>=0;n--)this.particles[n].$element.data("stellar-elementIsActive",o);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(n){var i,s,r,a,l,c,h,f,u,p=t(this),d=0,g=0,m=0,v=0;if(p.data("stellar-elementIsActive")){if(p.data("stellar-elementIsActive")!==this)return}else p.data("stellar-elementIsActive",this);e.options.showElement(p),p.data("stellar-startingLeft")?(p.css("left",p.data("stellar-startingLeft")),p.css("top",p.data("stellar-startingTop"))):(p.data("stellar-startingLeft",p.css("left")),p.data("stellar-startingTop",p.css("top"))),r=p.position().left,a=p.position().top,l="auto"===p.css("margin-left")?0:parseInt(p.css("margin-left"),10),c="auto"===p.css("margin-top")?0:parseInt(p.css("margin-top"),10),f=p.offset().left-l,u=p.offset().top-c,p.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(d=m,g=v,h=e,!1):(m+=e.position().left,void(v+=e.position().top))}),i=p.data("stellar-horizontal-offset")!==o?p.data("stellar-horizontal-offset"):h!==o&&h.data("stellar-horizontal-offset")!==o?h.data("stellar-horizontal-offset"):e.horizontalOffset,s=p.data("stellar-vertical-offset")!==o?p.data("stellar-vertical-offset"):h!==o&&h.data("stellar-vertical-offset")!==o?h.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:p,$offsetParent:h,isFixed:"fixed"===p.css("position"),horizontalOffset:i,verticalOffset:s,startingPositionLeft:r,startingPositionTop:a,startingOffsetLeft:f,startingOffsetTop:u,parentOffsetLeft:d,parentOffsetTop:g,stellarRatio:p.data("stellar-ratio")!==o?p.data("stellar-ratio"):1,width:p.outerWidth(!0),height:p.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var e,n=this,i=this._getScrollLeft(),s=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(e=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(e=e.add(this.$element)),e.each(function(){var e,r,a,l,c,h,f,d=t(this),g=p(d),m=0,v=0,y=0,b=0;if(d.data("stellar-backgroundIsActive")){if(d.data("stellar-backgroundIsActive")!==this)return}else d.data("stellar-backgroundIsActive",this);d.data("stellar-backgroundStartingLeft")?u(d,d.data("stellar-backgroundStartingLeft"),d.data("stellar-backgroundStartingTop")):(d.data("stellar-backgroundStartingLeft",g[0]),d.data("stellar-backgroundStartingTop",g[1])),a="auto"===d.css("margin-left")?0:parseInt(d.css("margin-left"),10),l="auto"===d.css("margin-top")?0:parseInt(d.css("margin-top"),10),c=d.offset().left-a-i,h=d.offset().top-l-s,d.parents().each(function(){var e=t(this);return e.data("stellar-offset-parent")===!0?(m=y,v=b,f=e,!1):(y+=e.position().left,void(b+=e.position().top))}),e=d.data("stellar-horizontal-offset")!==o?d.data("stellar-horizontal-offset"):f!==o&&f.data("stellar-horizontal-offset")!==o?f.data("stellar-horizontal-offset"):n.horizontalOffset,r=d.data("stellar-vertical-offset")!==o?d.data("stellar-vertical-offset"):f!==o&&f.data("stellar-vertical-offset")!==o?f.data("stellar-vertical-offset"):n.verticalOffset,n.backgrounds.push({$element:d,$offsetParent:f,isFixed:"fixed"===d.css("background-attachment"),horizontalOffset:e,verticalOffset:r,startingValueLeft:g[0],startingValueTop:g[1],startingBackgroundPositionLeft:isNaN(parseInt(g[0],10))?0:parseInt(g[0],10),startingBackgroundPositionTop:isNaN(parseInt(g[1],10))?0:parseInt(g[1],10),startingPositionLeft:d.position().left,startingPositionTop:d.position().top,startingOffsetLeft:c,startingOffsetTop:h,parentOffsetLeft:m,parentOffsetTop:v,stellarRatio:d.data("stellar-background-ratio")===o?1:d.data("stellar-background-ratio")})}))},_reset:function(){var t,e,n,o,i;for(i=this.particles.length-1;i>=0;i--)t=this.particles[i],e=t.$element.data("stellar-startingLeft"),n=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,n,n),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(i=this.backgrounds.length-1;i>=0;i--)o=this.backgrounds[i],o.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),u(o.$element,o.startingValueLeft,o.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var n=this,o=t(e);o.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),o.bind("resize.horizontal-"+this.name,function(){n.horizontalOffset=n.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),o.bind("resize.vertical-"+this.name,function(){n.verticalOffset=n.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,n,o,i,s,r,a,l,c,h=this._getScrollLeft(),f=this._getScrollTop(),p=!0,d=!0;if(this.currentScrollLeft!==h||this.currentScrollTop!==f||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=h,this.currentScrollTop=f,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,c=this.particles.length-1;c>=0;c--)t=this.particles[c],e=t.isFixed?1:0,this.options.horizontalScrolling?(s=(h+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft,a=s-t.startingPositionLeft+t.startingOffsetLeft):(s=t.startingPositionLeft,a=t.startingOffsetLeft),this.options.verticalScrolling?(r=(f+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop,l=r-t.startingPositionTop+t.startingOffsetTop):(r=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(d=!this.options.horizontalScrolling||a+t.width>(t.isFixed?0:h)&&a<(t.isFixed?0:h)+this.viewportWidth+this.viewportOffsetLeft,p=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:f)&&l<(t.isFixed?0:f)+this.viewportHeight+this.viewportOffsetTop),d&&p?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,s,t.startingPositionLeft,r,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(c=this.backgrounds.length-1;c>=0;c--)n=this.backgrounds[c],e=n.isFixed?0:1,o=this.options.horizontalScrolling?(h+n.horizontalOffset-this.viewportOffsetLeft-n.startingOffsetLeft+n.parentOffsetLeft-n.startingBackgroundPositionLeft)*(e-n.stellarRatio)+"px":n.startingValueLeft,i=this.options.verticalScrolling?(f+n.verticalOffset-this.viewportOffsetTop-n.startingOffsetTop+n.parentOffsetTop-n.startingBackgroundPositionTop)*(e-n.stellarRatio)+"px":n.startingValueTop,u(n.$element,o,i)}},_handleScrollEvent:function(){var t=this,e=!1,n=function(){t._repositionElements(),e=!1},o=function(){e||(d(n),e=!0)};this.$scrollElement.bind("scroll."+this.name,o),o()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){d(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[s]=function(e){var n=arguments;return e===o||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new i(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var o=t.data(this,"plugin_"+s);o instanceof i&&"function"==typeof o[e]&&o[e].apply(o,Array.prototype.slice.call(n,1)),"destroy"===e&&t.data(this,"plugin_"+s,null)}):void 0},t[s]=function(n){var o=t(e);return o.stellar.apply(o,Array.prototype.slice.call(arguments,0))},t[s].scrollProperty=a,t[s].positionProperty=l,e.Stellar=i}(jQuery,this,document),Karnan=Karnan||{},Karnan.AsyncContentLoader=Karnan.AsyncContentLoader||{},Karnan.AsyncContentLoader.AsyncContentLoader=function(t){function e(){this.triggerAjaxOpenHash(),this.watchAjaxClose(),jQuery.each(i,function(t,e){jQuery(e).click(function(t){this.isLocalLink(jQuery(t.target).closest("a").attr("href"))&&(t.preventDefault(),this.loadContent(jQuery(t.target).closest("a")),this.updateHash("#"+this.createIdFromHref(jQuery(t.target).closest("a").attr("href"))))}.bind(this))}.bind(this))}var n="wp/v2/all?slug=",o='<div id="ajax-response" class="ajax-response"><div class="container"><div class="grid"><div class="grid-xs-12"><a class="close" href="#close"><i class="pricon pricon-close"></i></a><article class="frame"><h2>{{title}}</h2>{{content}}{{sidebar}}</article></div></div></div></div>',i=[".navbar li a"],s=["title","content","sidebar"];e.prototype.loadContent=function(t){var e=jQuery(t).parents("section");jQuery("#ajax-response article.frame").html('<span class="spinner spinner-dark spinner-lg" style="font-size:3em;"></span>'),jQuery("a").removeClass("ajax-is-active"),this.startSpinner(t),jQuery.get(this.createEndpointSlug(jQuery(t).attr("href")),function(n){jQuery(".ajax-response").remove(),e.append(this.responseTemplate(o,n)),e.find("article.frame").addClass("is-loaded"),this.stopSpinner(t)}.bind(this))},e.prototype.createEndpointSlug=function(t){return rest_url+n+this.parsePostName(t)},e.prototype.responseTemplate=function(t,e){return s.forEach(function(n){t=t.replace("{{"+n+"}}",e[n])}.bind(this)),t},e.prototype.displayTarget=function(t,e){jQuery(e).length?jQuery(e).html(t):alert("Error: Target is missing.")},e.prototype.parsePostName=function(t){return t.replace(location.protocol+"//"+window.location.hostname,"")},e.prototype.isLocalLink=function(t){return t.indexOf(window.location.hostname)!==-1},e.prototype.startSpinner=function(t){t.addClass("ajax-do-spin ajax-is-active"),t.find(".box-image-container").append('<span class="pos-absolute-center spinner-container" style="width: 50px;height: 50px;"><span class="spinner" style="border: 10px solid #fff;width: 50px;height: 50px;border-left-color:transparent;"></span></span>')},e.prototype.stopSpinner=function(t){t.removeClass("ajax-do-spin"),t.find(".spinner-container").remove()},e.prototype.createIdFromHref=function(t){return this.parsePostName(t).replace(new RegExp("/","g"),"-").replace("-blog-","").replace(/\-$/,"").replace(/^\-/,"")},e.prototype.watchAjaxClose=function(){jQuery("section").on("click",".ajax-response .close",function(t){t.preventDefault(),jQuery("html, body").animate({scrollTop:Math.abs(jQuery(t.target).closest("a").parents("section").offset().top-jQuery("#site-header").outerHeight())},700,jQuery.bez([.815,.02,.08,1.215])),jQuery(".ajax-response").remove(),jQuery("a").removeClass("ajax-is-active"),this.updateHash("")}.bind(this))},e.prototype.triggerAjaxOpenHash=function(){jQuery(window).bind("load",function(){jQuery.each(i,function(t,e){jQuery(e).each(function(t,e){if(this.isLocalLink(jQuery(e).closest("a").attr("href"))&&"#"+this.createIdFromHref(jQuery(e).attr("href"))===window.location.hash)return this.loadContent(jQuery(e).closest("a")),!1}.bind(this))}.bind(this))}.bind(this))},e.prototype.updateHash=function(t){history.pushState?""===t?history.pushState(null,null,"#"):history.pushState(null,null,t):window.location.hash=t},new e}(jQuery);var Karnan;Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Navigation=function(t){function e(){t(".onepage-section").length&&(this.hightlightDirectionArrows(0,t(".onepage-section").length),this.bindDirectionArrow("soft"),this.bindElevator("soft")),t(".virtual-section").length&&(this.hightlightDirectionArrows(0,t(".virtual-section").length),this.bindDirectionArrow("instant"),this.bindElevator("instant")),t(document).bind("scrollifyStart",function(t,e,n,o){this.hightlightDirectionArrows(e,n.length),this.hightlightPagination(e,n)}.bind(this)),t(".scroll-evelator.active").length||t(".scroll-evelator.is-last").addClass("active")}e.prototype.hightlightDirectionArrows=function(e,n){0==e?t(".scroll-action.scroll-up").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style")}):t(".scroll-action.scroll-up").removeClass("disabled"),n==e+1?t(".scroll-action.scroll-down").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style")}):t(".scroll-action.scroll-down").removeClass("disabled")}.bind(this),e.prototype.hightlightPagination=function(e,n){t("#one-page-elevator li").removeClass("active"),t("#one-page-elevator li:eq("+e+")").addClass("active")},e.prototype.bindElevator=function(e){"soft"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.move(t(this).attr("href"))}),"instant"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.instantMove(t(this).attr("href"))})},e.prototype.bindDirectionArrow=function(e){"soft"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.next()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.previous()})),"instant"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.instantNext()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.instantPrevious()}))},new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Parallax=function(t){function e(){t(".parallax-enabled").length&&this.Init()}e.prototype.Init=function(e,n){t("body").stellar({horizontalScrolling:!1})}.bind(this),new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.ScrollSnapping=function(t){function e(){t(".onepage-section").length&&this.StartSections(),t(".virtual-section").length&&this.VirtualSections()}e.prototype.StartSections=function(){var e=800;t.scrollify({section:".onepage-section",sectionName:"section-name",scrollSpeed:e,easing:"easeOutExpo",before:function(n,o){t(document).trigger("scrollifyStart",[n,o,e,"onepage"])}.bind(this),after:function(n,o){t(document).trigger("scrollifyStop",[n,o,e,"onepage"])}.bind(this)})},e.prototype.VirtualSections=function(){var e=550;t.scrollify({section:".virtual-section",sectionName:"section-name",scrollSpeed:e,before:function(n,o){t(".container","section").not(":eq("+n+")").fadeOut(100),t(".container","section:eq("+n+")").fadeIn(800),t(document).trigger("scrollifyStart",[n,o,e,"virtual"])}.bind(this),after:function(n,o){t(document).trigger("scrollifyStop",[n,o,e,"virtual"])}.bind(this)})}.bind(this),new e}(jQuery);