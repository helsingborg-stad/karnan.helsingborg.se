!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n,e,e.document)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),e,e.document):t(jQuery,e,e.document)}("undefined"!=typeof window?window:this,function(e,t,n,o){"use strict";function i(n,o,i,r){if(m===n&&(i=!1),D===!0)return!0;if(f[n]){if(H=!1,i&&C.before(n,g),y=1,O=d[n],T===!1&&m>n&&r===!1&&p[n]&&(y=parseInt(g[n].outerHeight()/w.height()),O=parseInt(d[n])+(g[n].outerHeight()-w.height())),C.updateHash&&C.sectionName&&(T!==!0||0!==n))if(history.pushState)try{history.replaceState(null,null,f[n])}catch(a){t.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else t.location.hash=f[n];if(T&&(C.afterRender(),T=!1),m=n,o)e(C.target).stop().scrollTop(O),i&&C.after(n,g);else{if(M=!0,e().velocity?e(C.target).stop().velocity("scroll",{duration:C.scrollSpeed,easing:C.easing,offset:O,mobileHA:!1}):e(C.target).stop().animate({scrollTop:O},C.scrollSpeed,C.easing),t.location.hash.length&&C.sectionName&&t.console)try{e(t.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(a){}e(C.target).promise().done(function(){M=!1,T=!1,i&&C.after(n,g)})}}}function r(e){function t(t){for(var n=0,o=e.slice(Math.max(e.length-t,1)),i=0;i<o.length;i++)n+=o[i];return Math.ceil(n/t)}var n=t(10),o=t(70);return n>=o}function a(e,t){for(var n=f.length;n>=0;n--)"string"==typeof e?f[n]===e&&(v=n,i(n,t,!0,!0)):n===e&&(v=n,i(n,t,!0,!0))}var s,c,l,u,h,d=[],f=[],g=[],p=[],v=0,m=0,y=1,S=!1,w=e(t),b=w.scrollTop(),H=!1,M=!1,E=!1,D=!1,x=[],I=(new Date).getTime(),T=!0,k=!1,O=0,N="onwheel"in n?"wheel":n.onmousewheel!==o?"mousewheel":"DOMMouseScroll",C={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},j=function(o){function a(t){e().velocity?e(C.target).stop().velocity("scroll",{duration:C.scrollSpeed,easing:C.easing,offset:t,mobileHA:!1}):e(C.target).stop().animate({scrollTop:t},C.scrollSpeed,C.easing)}function m(t){t&&(b=w.scrollTop());var n=C.section;p=[],C.interstitialSection.length&&(n+=","+C.interstitialSection),C.scrollbars===!1&&(C.overflowScroll=!1),e(n).each(function(t){var n=e(this);C.setHeights?n.is(C.interstitialSection)?p[t]=!1:n.css("height","auto").outerHeight()<w.height()||"hidden"===n.css("overflow")?(n.css({height:w.height()}),p[t]=!1):(n.css({height:n.height()}),C.overflowScroll?p[t]=!0:p[t]=!1):n.outerHeight()<w.height()||C.overflowScroll===!1?p[t]=!1:p[t]=!0}),t&&w.scrollTop(b)}function T(n,o){var r=C.section;C.interstitialSection.length&&(r+=","+C.interstitialSection),d=[],f=[],g=[],e(r).each(function(n){var o=e(this);n>0?d[n]=parseInt(o.offset().top)+C.offset:d[n]=parseInt(o.offset().top),C.sectionName&&o.data(C.sectionName)?f[n]="#"+o.data(C.sectionName).toString().replace(/ /g,"-"):o.is(C.interstitialSection)===!1?f[n]="#"+(n+1):(f[n]="#",n===e(r).length-1&&n>1&&(d[n]=d[n-1]+(parseInt(e(e(r)[n-1]).outerHeight())-parseInt(e(t).height()))+parseInt(o.outerHeight()))),g[n]=o;try{e(f[n]).length&&t.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(i){}t.location.hash===f[n]&&(v=n,S=!0)}),!0===n&&i(v,!1,!1,!1)}function O(){return!p[v]||(b=w.scrollTop(),!(b>parseInt(d[v])))}function j(){return!p[v]||(b=w.scrollTop(),!(b<parseInt(d[v])+(g[v].outerHeight()-w.height())-28))}k=!0,e.easing.easeOutExpo=function(e,t,n,o,i){return t==i?n+o:o*(-Math.pow(2,-10*t/i)+1)+n},l={handleMousedown:function(){return D===!0||(H=!1,void(E=!1))},handleMouseup:function(){return D===!0||(H=!0,void(E&&l.calculateNearest(!1,!0)))},handleScroll:function(){return D===!0||(s&&clearTimeout(s),void(s=setTimeout(function(){return E=!0,H!==!1&&(H=!1,void l.calculateNearest(!1,!0))},200)))},calculateNearest:function(e,t){b=w.scrollTop();for(var n,o=1,r=d.length,a=0,s=Math.abs(d[0]-b);o<r;o++)n=Math.abs(d[o]-b),n<s&&(s=n,a=o);(j()&&a>v||O())&&(v=a,i(a,e,t,!1))},wheelHandler:function(n){if(D===!0)return!0;if(C.standardScrollElements&&(e(n.target).is(C.standardScrollElements)||e(n.target).closest(C.standardScrollElements).length))return!0;p[v]||n.preventDefault();var o=(new Date).getTime();n=n||t.event;var a=n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail,s=Math.max(-1,Math.min(1,a));if(x.length>149&&x.shift(),x.push(Math.abs(a)),o-I>200&&(x=[]),I=o,M)return!1;if(s<0){if(v<d.length-1&&j()){if(!r(x))return!1;n.preventDefault(),v++,M=!0,i(v,!1,!0,!1)}}else if(s>0&&v>0&&O()){if(!r(x))return!1;n.preventDefault(),v--,M=!0,i(v,!1,!0,!1)}},keyHandler:function(e){return D===!0||n.activeElement.readOnly===!1||M!==!0&&void(38==e.keyCode||33==e.keyCode?v>0&&O()&&(e.preventDefault(),v--,i(v,!1,!0,!1)):40!=e.keyCode&&34!=e.keyCode||v<d.length-1&&j()&&(e.preventDefault(),v++,i(v,!1,!0,!1)))},init:function(){C.scrollbars?(w.on("mousedown",l.handleMousedown),w.on("mouseup",l.handleMouseup),w.on("scroll",l.handleScroll)):e("body").css({overflow:"hidden"}),w.on(N,l.wheelHandler),w.on("keydown",l.keyHandler)}},u={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(t){if(D===!0)return!0;if(C.standardScrollElements&&(e(t.target).is(C.standardScrollElements)||e(t.target).closest(C.standardScrollElements).length))return!0;var n;if("undefined"!=typeof t&&"undefined"!=typeof t.touches)switch(n=t.touches[0],t.type){case"touchstart":u.touches.touchstart.y=n.pageY,u.touches.touchmove.y=-1,u.touches.touchstart.x=n.pageX,u.touches.touchmove.x=-1,u.options.timeStamp=(new Date).getTime(),u.touches.touchend=!1;case"touchmove":u.touches.touchmove.y=n.pageY,u.touches.touchmove.x=n.pageX,u.touches.touchstart.y!==u.touches.touchmove.y&&Math.abs(u.touches.touchstart.y-u.touches.touchmove.y)>Math.abs(u.touches.touchstart.x-u.touches.touchmove.x)&&(t.preventDefault(),u.touches.direction="y",u.options.timeStamp+u.options.timeGap<(new Date).getTime()&&0==u.touches.touchend&&(u.touches.touchend=!0,u.touches.touchstart.y>-1&&Math.abs(u.touches.touchmove.y-u.touches.touchstart.y)>u.options.distance&&(u.touches.touchstart.y<u.touches.touchmove.y?u.up():u.down())));break;case"touchend":u.touches[t.type]===!1&&(u.touches[t.type]=!0,u.touches.touchstart.y>-1&&u.touches.touchmove.y>-1&&"y"===u.touches.direction&&(Math.abs(u.touches.touchmove.y-u.touches.touchstart.y)>u.options.distance&&(u.touches.touchstart.y<u.touches.touchmove.y?u.up():u.down()),u.touches.touchstart.y=-1,u.touches.touchstart.x=-1,u.touches.direction="undetermined"))}},down:function(){v<d.length&&(j()&&v<d.length-1?(v++,i(v,!1,!0,!1)):Math.floor(g[v].height()/w.height())>y?(a(parseInt(d[v])+w.height()*y),y+=1):a(parseInt(d[v])+(g[v].outerHeight()-w.height())))},up:function(){v>=0&&(O()&&v>0?(v--,i(v,!1,!0,!1)):y>2?(y-=1,a(parseInt(d[v])+w.height()*y)):(y=1,a(parseInt(d[v]))))},init:function(){n.addEventListener&&C.touchScroll&&(n.addEventListener("touchstart",u.touchHandler,!1),n.addEventListener("touchmove",u.touchHandler,!1),n.addEventListener("touchend",u.touchHandler,!1))}},h={refresh:function(e,t){clearTimeout(c),c=setTimeout(function(){m(!0),T(t,!1),e&&C.afterResize()},400)},handleUpdate:function(){h.refresh(!1,!1)},handleResize:function(){h.refresh(!0,!1)},handleOrientation:function(){h.refresh(!0,!0)}},C=e.extend(C,o),m(!1),T(!1,!0),!0===S?i(v,!1,!0,!0):setTimeout(function(){l.calculateNearest(!0,!1)},200),d.length&&(l.init(),u.init(),w.on("resize",h.handleResize),n.addEventListener&&t.addEventListener("orientationchange",h.handleOrientation,!1))};return j.move=function(t){return t!==o&&(t.originalEvent&&(t=e(this).attr("href")),void a(t,!1))},j.instantMove=function(e){return e!==o&&void a(e,!0)},j.next=function(){v<f.length&&(v+=1,i(v,!1,!0,!0))},j.previous=function(){v>0&&(v-=1,i(v,!1,!0,!0))},j.instantNext=function(){v<f.length&&(v+=1,i(v,!0,!0,!0))},j.instantPrevious=function(){v>0&&(v-=1,i(v,!0,!0,!0))},j.destroy=function(){return!!k&&(C.setHeights&&e(C.section).each(function(){e(this).css("height","auto")}),w.off("resize",h.handleResize),C.scrollbars&&(w.off("mousedown",l.handleMousedown),w.off("mouseup",l.handleMouseup),w.off("scroll",l.handleScroll)),w.off(N,l.wheelHandler),w.off("keydown",l.keyHandler),n.addEventListener&&C.touchScroll&&(n.removeEventListener("touchstart",u.touchHandler,!1),n.removeEventListener("touchmove",u.touchHandler,!1),n.removeEventListener("touchend",u.touchHandler,!1)),d=[],f=[],g=[],void(p=[]))},j.update=function(){return!!k&&void h.handleUpdate()},j.current=function(){return g[v]},j.currentIndex=function(){return v},j.disable=function(){D=!0},j.enable=function(){D=!1,k&&l.calculateNearest(!1,!1)},j.isDisabled=function(){return D},j.setOptions=function(n){return!!k&&void("object"==typeof n?(C=e.extend(C,n),h.handleUpdate()):t.console&&console.warn("Scrollify warning: setOptions expects an object."))},e.scrollify=j,j});var Karnan;Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Navigation=function(e){function t(){this.hightlightDirectionArrows(0,e(".onepage-section").length),this.bindDirectionArrows(),e(document).bind("scrollifyStart",function(e,t,n,o){this.hightlightDirectionArrows(t,n),this.hightlightPagination(t,n)}.bind(this)),e(document).bind("scrollifyStop",function(e,t,n,o){}.bind(this))}t.prototype.hightlightDirectionArrows=function(e,t){0==e?jQuery(".scroll-action.scroll-up").addClass("disabled"):jQuery(".scroll-action.scroll-up").removeClass("disabled"),t.length==e+1?jQuery(".scroll-action.scroll-down").addClass("disabled"):jQuery(".scroll-action.scroll-down").removeClass("disabled")}.bind(this),t.prototype.hightlightPagination=function(t,n){e("#one-page-elevator li").removeClass("active"),e("#one-page-elevator li:eq("+t+")").addClass("active")},t.prototype.bindDirectionArrows=function(){e("#one-page-elevator a").on("click",function(){e("body").hasClass("lock-scroll")||e.scrollify.instantMove(e(this).attr("href"))})},new t}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.ScrollSnapping=function(e){function t(){e(".onepage-section").length&&this.StartSections(),e(".virtual-section").length&&this.VirtualSections()}t.prototype.StartSections=function(){var t=1200;e.scrollify({section:".onepage-section",sectionName:"section-name",scrollSpeed:t,easing:"easeOutExpo",before:function(n,o){e(document).trigger("scrollifyStart",[n,o,t,"onepage"])}.bind(this),after:function(n,o){e(document).trigger("scrollifyStop",[n,o,t,"onepage"])}.bind(this)}),this.bindSoftMove()},t.prototype.VirtualSections=function(){var t=550;e.scrollify({section:".virtual-section",sectionName:"section-name",scrollSpeed:t,before:function(n,o){e(".container","section").not(":eq("+n+")").fadeOut(100),e(".container","section:eq("+n+")").fadeIn(800),e(document).trigger("scrollifyStart",[n,o,t,"virtual"])}.bind(this),after:function(n,o){e(document).trigger("scrollifyStop",[n,o,t,"virtual"])}.bind(this)}),this.bindInstantMove()}.bind(this),t.prototype.bindSoftMove=function(){e("#one-page-elevator a").on("click",function(t){t.preventDefault(),e("body").hasClass("lock-scroll")||e.scrollify.move(e(this).attr("href"))})},t.prototype.bindInstantMove=function(){e("#one-page-elevator a").on("click",function(t){t.preventDefault(),e("body").hasClass("lock-scroll")||e.scrollify.instantMove(e(this).attr("href"))})},new t}(jQuery);