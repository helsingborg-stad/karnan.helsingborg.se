!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return e(n,t,t.document)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery"),t,t.document):e(jQuery,t,t.document)}("undefined"!=typeof window?window:this,function(t,e,n,o){"use strict";function i(n,o,i,r){if(m===n&&(i=!1),x===!0)return!0;if(d[n]){if(D=!1,i&&N.before(n,g),y=1,k=f[n],I===!1&&m>n&&r===!1&&p[n]&&(y=parseInt(g[n].outerHeight()/S.height()),k=parseInt(f[n])+(g[n].outerHeight()-S.height())),N.updateHash&&N.sectionName&&(I!==!0||0!==n))if(history.pushState)try{history.replaceState(null,null,d[n])}catch(a){e.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else e.location.hash=d[n];if(I&&(N.afterRender(),I=!1),m=n,o)t(N.target).stop().scrollTop(k),i&&N.after(n,g);else{if(E=!0,t().velocity?t(N.target).stop().velocity("scroll",{duration:N.scrollSpeed,easing:N.easing,offset:k,mobileHA:!1}):t(N.target).stop().animate({scrollTop:k},N.scrollSpeed,N.easing),e.location.hash.length&&N.sectionName&&e.console)try{t(e.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(a){}t(N.target).promise().done(function(){E=!1,I=!1,i&&N.after(n,g)})}}}function r(t){function e(e){for(var n=0,o=t.slice(Math.max(t.length-e,1)),i=0;i<o.length;i++)n+=o[i];return Math.ceil(n/e)}var n=e(10),o=e(70);return n>=o}function a(t,e){for(var n=d.length;n>=0;n--)"string"==typeof t?d[n]===t&&(v=n,i(n,e,!0,!0)):n===t&&(v=n,i(n,e,!0,!0))}var s,c,l,u,h,f=[],d=[],g=[],p=[],v=0,m=0,y=1,w=!1,S=t(e),b=S.scrollTop(),D=!1,E=!1,H=!1,x=!1,M=[],O=(new Date).getTime(),I=!0,T=!1,k=0,K="onwheel"in n?"wheel":n.onmousewheel!==o?"mousewheel":"DOMMouseScroll",N={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},P=function(o){function a(e){t().velocity?t(N.target).stop().velocity("scroll",{duration:N.scrollSpeed,easing:N.easing,offset:e,mobileHA:!1}):t(N.target).stop().animate({scrollTop:e},N.scrollSpeed,N.easing)}function m(e){e&&(b=S.scrollTop());var n=N.section;p=[],N.interstitialSection.length&&(n+=","+N.interstitialSection),N.scrollbars===!1&&(N.overflowScroll=!1),t(n).each(function(e){var n=t(this);N.setHeights?n.is(N.interstitialSection)?p[e]=!1:n.css("height","auto").outerHeight()<S.height()||"hidden"===n.css("overflow")?(n.css({height:S.height()}),p[e]=!1):(n.css({height:n.height()}),N.overflowScroll?p[e]=!0:p[e]=!1):n.outerHeight()<S.height()||N.overflowScroll===!1?p[e]=!1:p[e]=!0}),e&&S.scrollTop(b)}function I(n,o){var r=N.section;N.interstitialSection.length&&(r+=","+N.interstitialSection),f=[],d=[],g=[],t(r).each(function(n){var o=t(this);n>0?f[n]=parseInt(o.offset().top)+N.offset:f[n]=parseInt(o.offset().top),N.sectionName&&o.data(N.sectionName)?d[n]="#"+o.data(N.sectionName).toString().replace(/ /g,"-"):o.is(N.interstitialSection)===!1?d[n]="#"+(n+1):(d[n]="#",n===t(r).length-1&&n>1&&(f[n]=f[n-1]+(parseInt(t(t(r)[n-1]).outerHeight())-parseInt(t(e).height()))+parseInt(o.outerHeight()))),g[n]=o;try{t(d[n]).length&&e.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(i){}e.location.hash===d[n]&&(v=n,w=!0)}),!0===n&&i(v,!1,!1,!1)}function k(){return!p[v]||(b=S.scrollTop(),!(b>parseInt(f[v])))}function P(){return!p[v]||(b=S.scrollTop(),!(b<parseInt(f[v])+(g[v].outerHeight()-S.height())-28))}T=!0,t.easing.easeOutExpo=function(t,e,n,o,i){return e==i?n+o:o*(-Math.pow(2,-10*e/i)+1)+n},l={handleMousedown:function(){return x===!0||(D=!1,void(H=!1))},handleMouseup:function(){return x===!0||(D=!0,void(H&&l.calculateNearest(!1,!0)))},handleScroll:function(){return x===!0||(s&&clearTimeout(s),void(s=setTimeout(function(){return H=!0,D!==!1&&(D=!1,void l.calculateNearest(!1,!0))},200)))},calculateNearest:function(t,e){b=S.scrollTop();for(var n,o=1,r=f.length,a=0,s=Math.abs(f[0]-b);o<r;o++)n=Math.abs(f[o]-b),n<s&&(s=n,a=o);(P()&&a>v||k())&&(v=a,i(a,t,e,!1))},wheelHandler:function(n){if(x===!0)return!0;if(N.standardScrollElements&&(t(n.target).is(N.standardScrollElements)||t(n.target).closest(N.standardScrollElements).length))return!0;p[v]||n.preventDefault();var o=(new Date).getTime();n=n||e.event;var a=n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail,s=Math.max(-1,Math.min(1,a));if(M.length>149&&M.shift(),M.push(Math.abs(a)),o-O>200&&(M=[]),O=o,E)return!1;if(s<0){if(v<f.length-1&&P()){if(!r(M))return!1;n.preventDefault(),v++,E=!0,i(v,!1,!0,!1)}}else if(s>0&&v>0&&k()){if(!r(M))return!1;n.preventDefault(),v--,E=!0,i(v,!1,!0,!1)}},keyHandler:function(t){return x===!0||n.activeElement.readOnly===!1||E!==!0&&void(38==t.keyCode||33==t.keyCode?v>0&&k()&&(t.preventDefault(),v--,i(v,!1,!0,!1)):40!=t.keyCode&&34!=t.keyCode||v<f.length-1&&P()&&(t.preventDefault(),v++,i(v,!1,!0,!1)))},init:function(){N.scrollbars?(S.on("mousedown",l.handleMousedown),S.on("mouseup",l.handleMouseup),S.on("scroll",l.handleScroll)):t("body").css({overflow:"hidden"}),S.on(K,l.wheelHandler),S.on("keydown",l.keyHandler)}},u={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(x===!0)return!0;if(N.standardScrollElements&&(t(e.target).is(N.standardScrollElements)||t(e.target).closest(N.standardScrollElements).length))return!0;var n;if("undefined"!=typeof e&&"undefined"!=typeof e.touches)switch(n=e.touches[0],e.type){case"touchstart":u.touches.touchstart.y=n.pageY,u.touches.touchmove.y=-1,u.touches.touchstart.x=n.pageX,u.touches.touchmove.x=-1,u.options.timeStamp=(new Date).getTime(),u.touches.touchend=!1;case"touchmove":u.touches.touchmove.y=n.pageY,u.touches.touchmove.x=n.pageX,u.touches.touchstart.y!==u.touches.touchmove.y&&Math.abs(u.touches.touchstart.y-u.touches.touchmove.y)>Math.abs(u.touches.touchstart.x-u.touches.touchmove.x)&&(e.preventDefault(),u.touches.direction="y",u.options.timeStamp+u.options.timeGap<(new Date).getTime()&&0==u.touches.touchend&&(u.touches.touchend=!0,u.touches.touchstart.y>-1&&Math.abs(u.touches.touchmove.y-u.touches.touchstart.y)>u.options.distance&&(u.touches.touchstart.y<u.touches.touchmove.y?u.up():u.down())));break;case"touchend":u.touches[e.type]===!1&&(u.touches[e.type]=!0,u.touches.touchstart.y>-1&&u.touches.touchmove.y>-1&&"y"===u.touches.direction&&(Math.abs(u.touches.touchmove.y-u.touches.touchstart.y)>u.options.distance&&(u.touches.touchstart.y<u.touches.touchmove.y?u.up():u.down()),u.touches.touchstart.y=-1,u.touches.touchstart.x=-1,u.touches.direction="undetermined"))}},down:function(){v<f.length&&(P()&&v<f.length-1?(v++,i(v,!1,!0,!1)):Math.floor(g[v].height()/S.height())>y?(a(parseInt(f[v])+S.height()*y),y+=1):a(parseInt(f[v])+(g[v].outerHeight()-S.height())))},up:function(){v>=0&&(k()&&v>0?(v--,i(v,!1,!0,!1)):y>2?(y-=1,a(parseInt(f[v])+S.height()*y)):(y=1,a(parseInt(f[v]))))},init:function(){n.addEventListener&&N.touchScroll&&(n.addEventListener("touchstart",u.touchHandler,!1),n.addEventListener("touchmove",u.touchHandler,!1),n.addEventListener("touchend",u.touchHandler,!1))}},h={refresh:function(t,e){clearTimeout(c),c=setTimeout(function(){m(!0),I(e,!1),t&&N.afterResize()},400)},handleUpdate:function(){h.refresh(!1,!1)},handleResize:function(){h.refresh(!0,!1)},handleOrientation:function(){h.refresh(!0,!0)}},N=t.extend(N,o),m(!1),I(!1,!0),!0===w?i(v,!1,!0,!0):setTimeout(function(){l.calculateNearest(!0,!1)},200),f.length&&(l.init(),u.init(),S.on("resize",h.handleResize),n.addEventListener&&e.addEventListener("orientationchange",h.handleOrientation,!1))};return P.move=function(e){return e!==o&&(e.originalEvent&&(e=t(this).attr("href")),void a(e,!1))},P.instantMove=function(t){return t!==o&&void a(t,!0)},P.next=function(){v<d.length&&(v+=1,i(v,!1,!0,!0))},P.previous=function(){v>0&&(v-=1,i(v,!1,!0,!0))},P.instantNext=function(){v<d.length&&(v+=1,i(v,!0,!0,!0))},P.instantPrevious=function(){v>0&&(v-=1,i(v,!0,!0,!0))},P.destroy=function(){return!!T&&(N.setHeights&&t(N.section).each(function(){t(this).css("height","auto")}),S.off("resize",h.handleResize),N.scrollbars&&(S.off("mousedown",l.handleMousedown),S.off("mouseup",l.handleMouseup),S.off("scroll",l.handleScroll)),S.off(K,l.wheelHandler),S.off("keydown",l.keyHandler),n.addEventListener&&N.touchScroll&&(n.removeEventListener("touchstart",u.touchHandler,!1),n.removeEventListener("touchmove",u.touchHandler,!1),n.removeEventListener("touchend",u.touchHandler,!1)),f=[],d=[],g=[],void(p=[]))},P.update=function(){return!!T&&void h.handleUpdate()},P.current=function(){return g[v]},P.currentIndex=function(){return v},P.disable=function(){x=!0},P.enable=function(){x=!1,T&&l.calculateNearest(!1,!1)},P.isDisabled=function(){return x},P.setOptions=function(n){return!!T&&void("object"==typeof n?(N=t.extend(N,n),h.handleUpdate()):e.console&&console.warn("Scrollify warning: setOptions expects an object."))},t.scrollify=P,P});var Karnan;Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Navigation=function(t){function e(){t(".onepage-section").length&&(this.hightlightDirectionArrows(0,t(".onepage-section").length),this.bindDirectionArrow("soft"),this.bindElevator("soft")),t(".virtual-section").length&&(this.hightlightDirectionArrows(0,t(".virtual-section").length),this.bindDirectionArrow("instant"),this.bindElevator("instant")),t(document).bind("scrollifyStart",function(t,e,n,o){this.hightlightDirectionArrows(e,n.length),this.hightlightPagination(e,n)}.bind(this))}e.prototype.hightlightDirectionArrows=function(e,n){0==e?t(".scroll-action.scroll-up").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style")}):t(".scroll-action.scroll-up").removeClass("disabled"),n==e+1?t(".scroll-action.scroll-down").fadeOut(700,function(){t(this).addClass("disabled").removeAttr("style")}):t(".scroll-action.scroll-down").removeClass("disabled")}.bind(this),e.prototype.hightlightPagination=function(e,n){t("#one-page-elevator li").removeClass("active"),t("#one-page-elevator li:eq("+e+")").addClass("active")},e.prototype.bindElevator=function(e){"soft"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.move(t(this).attr("href"))}),"instant"==e&&t("#one-page-elevator a").on("click",function(e){e.preventDefault(),t("body").hasClass("lock-scroll")||t.scrollify.instantMove(t(this).attr("href"))})},e.prototype.bindDirectionArrow=function(e){"soft"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.next()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.previous()})),"instant"==e&&(t(".scroll-action.scroll-down").on("click",function(e){e.preventDefault(),t.scrollify.instantNext()}),t(".scroll-action.scroll-up").on("click",function(e){e.preventDefault(),t.scrollify.instantPrevious()}))},new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.Parallax=function(t){function e(){t(".parallax-enabled").length&&this.Init()}e.prototype.Init=function(e,n){t(window).stellar()}.bind(this),new e}(jQuery),Karnan=Karnan||{},Karnan.OnePage=Karnan.OnePage||{},Karnan.OnePage.ScrollSnapping=function(t){function e(){t(".onepage-section").length&&this.StartSections(),t(".virtual-section").length&&this.VirtualSections()}e.prototype.StartSections=function(){var e=800;t.scrollify({section:".onepage-section",sectionName:"section-name",scrollSpeed:e,easing:"easeOutExpo",before:function(n,o){t(document).trigger("scrollifyStart",[n,o,e,"onepage"])}.bind(this),after:function(n,o){t(document).trigger("scrollifyStop",[n,o,e,"onepage"])}.bind(this)})},e.prototype.VirtualSections=function(){var e=550;t.scrollify({section:".virtual-section",sectionName:"section-name",scrollSpeed:e,before:function(n,o){t(".container","section").not(":eq("+n+")").fadeOut(100),t(".container","section:eq("+n+")").fadeIn(800),t(document).trigger("scrollifyStart",[n,o,e,"virtual"])}.bind(this),after:function(n,o){t(document).trigger("scrollifyStop",[n,o,e,"virtual"])}.bind(this)})}.bind(this),new e}(jQuery);