#one-page-content {
    z-index: $level-3;
    position: relative;
    margin-left: 10px;

    @media #{$screen-sm-up} {
        margin-left: 17px;
    }

    @media #{$screen-md-up} {
        margin-left: 20px;
    }

    @media #{$screen-lg-up} {
        margin-left: 25px;
    }

    section {
        min-height: calc(100vh - 70px);
        width: 100%;
        position: relative;
        background-position: center;
        background-size: auto 100%;
        background-repeat: no-repeat;
    }

    section + section {
        margin-top: 0;
    }

    #inner {
        //@include overlay($palette-4, 0.8);

        @media screen and #{$screen-md-up} {
            padding-left: 100px;
        }
    }

    #inner .onepage-section {
        position: relative;
        z-index: $level-1;
        -webkit-transform: translate3d(0, 0, 0);
        overflow: hidden;
    }
}

#one-page-content {
    article {
        opacity: 0;
        z-index: $level-4;

        color: white;
        h1, h2, h3, h4, h5, h6 {
            color: #fff;
        }

        .btn {
            display: none;
        }

        .rendered-header {
            display: block;
            border-bottom: 2px solid #fff;
            padding-bottom: $grid-gutter-sm;
        }

        &.animate {
            opacity: 0;
        }

        &.animated {
            animation: fade-in-fwd 0.6s cubic-bezier(0.39, 0.575, 0.565, 1) both;
        }

        .box-content {
            padding: 20px;
        }

        .label {
            padding: 0;
            border-radius: 0;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 50px;
            line-height: 50px;
            font-size: 1.9em;
            color: #fff;
            background: none;
        }

        .label .inner {
            filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
            transform: rotate(90deg);
            display: inline-block;
            transform-origin: 17px 48px;
            width: 400px;
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;

            .first-word {
                font-weight: 600;
            }
        }

        .virtual-guide {
            text-decoration: none;
            margin-top: $grid-gutter-md;

            i.pricon {
                vertical-align: text-top;
            }

            @media #{$screen-xs} {
                font-size: 1.3em;
            }

            @media #{$screen-sm} {
                font-size: 1.4em;
            }
        }
    }
}

#one-page-content {


    .layers {
        width: 100%;
        height: auto;
        left: 0;
        bottom: 0;
        z-index: $level-bottom;

        display: block;
        position: fixed;

        text-align: left;
        transition: transform 500ms ease;

        background-size: contain;
        background-repeat: no-repeat;
        background-position: center 100%;

        > * {
            transition: transform 500ms ease;
        }

        img {
            max-width: 100%;
        }
    }

    .layer-karnan {
        background-image: url('../../image/karnan/png/karnan-full-with-grass_400.png');

        $size-list: 600 800 1000 1200 1400 1600;
        @each $current-size in $size-list {
            @media (min-width: #{$current-size}px) {
                background-image: url('../../image/karnan/png/karnan-full-with-grass_#{$current-size}.png');
            }
        }
    }

    &.active-section-4 {
        .layer-karnan {
            transform: translateX(0vw) translateY(-50px) scale(1);
        }
        .layer-gras-bottom {

        }
    }

    &.active-section-3 .layer-karnan {
        transform: translateY(0) scale(1.25);
    }

    &.active-section-2 .layer-karnan {
        transform: translateY(40%);
    }

    &.active-section-1 .layer-karnan {
        transform: translateY(65%);
    }

    &.active-section-0 .layer-karnan {
        transform: translateY(85%);
    }

    @media screen and #{$screen-md-up} {
        &.active-section-3 .layer-karnan {
            transform: translateY(10%);
        }

        &.active-section-2 .layer-karnan {
            transform: translateY(40%);
        }

        &.active-section-1 .layer-karnan {
            transform: translateY(65%);
        }

        &.active-section-0 .layer-karnan {
            transform: translateY(85%);
        }
    }
    @media screen and #{$screen-lg-up} {}
    @media screen and #{$screen-xl-up} {}
}

#one-page-content {
    .onepage-section .container {
        transition: opacity 500ms ease-in;
        transition-delay: 300ms;
        opacity: 0;
    }

    .onepage-section.active-section .container {
        opacity: 1;
    }
}

.layer-wrapper {
    width: 100%;
    height: auto;
    left: 0;
    bottom: 0;
    z-index: $level-bottom;

    postion: fixed;

    .layer {
        bottom: 50px;
        left: 0;
        width: 100%;


        position: fixed;

        transition: transform 500ms ease;
    }

    .layer img {
        width: 100%;
        height: auto;
    }

    .layer.depth-1 {
        z-index: $level-1;
    }
    .layer.depth-2 {
        z-index: $level-2;
    }
    .layer.depth-3 {
        z-index: $level-3;
    }
    .layer.depth-4 {
        z-index: $level-4;
    }
}

@mixin transformLayer($mobile, $sm: null, $md: null, $lg: null, $xl: null) {
    transform: $mobile;

    @if $sm != 'null' {
        @media screen and #{$screen-sm-up} {
            transform: $sm;
        }
    }

    @if $md != 'null' {
        @media screen and #{$screen-md-up} {
            transform: $md;
        }
    }

    @if $lg != 'null' {
        @media screen and #{$screen-lg-up} {
            transform: $lg;
        }
    }

    @if $xl != 'null' {
        @media screen and #{$screen-xl-up} {
            transform: $xl;
        }
    }
}


.active-section-4 {
    .layer-gras {}
    .layer-tower {
    }
}
.active-section-3 {
    .layer-gras {}
    .layer-tower {
        @include transformLayer(
            scale(1.1),
            scale(1.2),
            scale(1.1) translateY(10vh)
            scale(0.9) translateY(50vh)
        );
    }
}
.active-section-2 {
    .layer-gras {}
    .layer-tower {
        @include transformLayer(
            translateY(30vh),
            translateY(50vh),
            translateY(120vh),
            translateY(170vh)
        );
    }
}
.active-section-1 {
    .layer-gras {}
    .layer-tower {
        @include transformLayer(
            translateY(60vh),
            translateY(100vh),
            translateY(200vh),
            translateY(350vh)
        );
    }
}
.active-section-0 {
    .layer-gras {}
    .layer-tower {
        @include transformLayer(
            translateY(100vh),
            translateY(150vh),
            translateY(450vh)
        );
    }
}

/* ----------------------------------------------
 * Generated by Animista on 2017-10-26 13:50:56
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation fade-in-fwd
 * ----------------------------------------
 */
@keyframes fade-in-fwd {
    0% {
        transform: translateZ(-80px);
        opacity: 0;
    }

    100% {
        transform: translateZ(0);
        opacity: 1;
    }
}
